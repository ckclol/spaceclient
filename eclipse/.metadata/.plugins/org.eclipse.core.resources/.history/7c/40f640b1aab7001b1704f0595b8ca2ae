package space.util;

import java.awt.Color;
import java.util.Arrays;

import com.google.common.base.Preconditions;

import javafx.animation.Interpolator;

public class TextGradient {

	public Color rgbGradient(String str, Color from, Color to, Interpolator interpolator) {

	    // interpolate each component separately 
	    final int r = interpolator.interpolate(from.getRed(), to.getRed(), str.length());
	    final int g = interpolator.interpolate(from.getGreen(), to.getGreen(), str.length());
	    final int b = interpolator.interpolate(from.getBlue(), to.getBlue(), str.length());
	    Color d = null;

	    final StringBuilder builder = new StringBuilder();

	    // create a string that matches the input-string but has
	    // the different color applied to each char
	    for (int i = 0; i < str.length(); i++) {
	    	
	    	 d = new Color(Math.round(r), Math.round(g), Math.round(b));
	    	
	    }

	    return d;
	}
	
	private String multiRgbGradient(String str, Color[] colors, @Nullable double[] portions, Interpolator interpolator) {
	    final double[] p;
	    if (portions == null) {
	        p = new double[colors.length - 1];
	        Arrays.fill(p, 1 / (double) p.length);
	    } else {
	        p = portions;
	    }

	    Preconditions.checkArgument(colors.length >= 2);
	    Preconditions.checkArgument(p.length == colors.length - 1);

	    final StringBuilder builder = new StringBuilder();
	    int strIndex = 0;

	    for (int i = 0; i < colors.length - 1; i++) {
	        builder.append(rgbGradient(
	                str.substring(strIndex, strIndex + (int) (p[i] * str.length())),
	                colors[i],
	                colors[i + 1],
	                interpolator));
	        strIndex += p[i] * str.length();
	    }
	    return builder.toString();
	}
	
}
